[package]
name = "edgedns"
version = "0.2.0"
authors = ["Frank Denis <github@pureftpd.org>"]

[features]
webservice = ["hyper", "prometheus"]

default = ["webservice"]

[dependencies]
clap = {version = "*", features = ["nightly"]}
clippy = {version = "*", optional = true}
clockpro-cache = "*"
env_logger = "*"
hyper = {version = "*", optional = true, default-features = false, features = ["nightly"]}
log = {version = "*", features = ["nightly"]}
nix = "~0.7.0"
privdrop = "*"
prometheus = {version = "*", optional = true, default-features = false, features = ["nightly"]}
rand = "*"
siphasher = "*"
slab = "*"
toml = "*"

[dependencies.bytes]
git = "https://github.com/carllerche/bytes"

[dependencies.mio]
git = "https://github.com/carllerche/mio"

[profile.dev]
codegen-units = 4
panic = "unwind"

[profile.release]
lto = true
panic = "abort"
opt-level = 3
